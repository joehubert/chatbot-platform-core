# =======================================================
# Chatbot Platform Core - Environment Variables Template
# =======================================================
# Copy this file to .env and fill in the necessary values.
# Usage: cp .env.example .env
# =======================================================

# =======================================================
# DOCKER COMPOSE CONFIGURATION
# =======================================================

# --- Project Configuration ---
COMPOSE_PROJECT_NAME=chatbot-platform
BUILD_TARGET=development

# --- Service Ports ---
API_EXTERNAL_PORT=3000
API_INTERNAL_PORT=8000
CHROMA_EXTERNAL_PORT=8000
POSTGRES_EXTERNAL_PORT=5432
REDIS_EXTERNAL_PORT=6379

# --- Service Versions ---
POSTGRES_VERSION=15
REDIS_VERSION=7
CHROMA_VERSION=latest

# =======================================================
# DATABASE CONFIGURATION
# =======================================================

# --- PostgreSQL ---
POSTGRES_DB=chatbot_platform
POSTGRES_USER=chatbot_user
POSTGRES_PASSWORD=chatbot_password
DATABASE_POOL_SIZE=20
DATABASE_ECHO=false

# --- Redis ---
REDIS_DB=0

# =======================================================
# CHATBOT-API SERVICE ENVIRONMENT VARIABLES
# =======================================================
# These variables are loaded directly into the chatbot-api container via env_file

# --- Application Configuration ---
NODE_ENV=development
LOG_LEVEL=INFO
SHOW_DETAILED_ERRORS=true

# --- API Configuration ---
API_V1_STR=/api/v1
PROJECT_NAME="Turnkey AI Chatbot"
VERSION=1.0.0
DESCRIPTION="Enterprise chatbot platform for SMEs"

# --- Security ---
SECRET_KEY=your-super-secret-key-for-jwt-change-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30

# --- CORS Configuration ---
BACKEND_CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:3001"]

# --- File Upload ---
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=pdf,txt,docx,md

# --- Chroma Configuration ---
CHROMA_SSL=false
CHROMA_TELEMETRY=false

# =======================================================
# API KEYS & CREDENTIALS (REQUIRED)
# =======================================================

# --- LLM Providers (Choose at least one) ---
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Get from: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=hf_your-huggingface-token-here

# --- Azure OpenAI (If using Azure instead of OpenAI) ---
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-azure-openai-key

# --- Communication Services (Optional) ---
# Twilio for SMS notifications
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_FROM_NUMBER=+1234567890

# SendGrid for Email notifications
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# SMTP (Alternative to SendGrid for Email)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# =======================================================
# VECTOR DATABASE CONFIGURATION
# =======================================================

# --- Pluggable Vector Database Selection ---
# Choose one: pinecone, chroma, weaviate, pgvector
# 'chroma' is the default for local development with Docker Compose
VECTOR_DB_TYPE=chroma

# --- Pinecone Configuration (if VECTOR_DB_TYPE=pinecone) ---
# Get from: https://app.pinecone.io/
PINECONE_API_KEY=your-pinecone-api-key
PINECONE_ENVIRONMENT=your-pinecone-environment
PINECONE_INDEX_NAME=chatbot-knowledge-base

# --- Weaviate Configuration (if VECTOR_DB_TYPE=weaviate) ---
# WEAVIATE_URL=http://weaviate:8080
# WEAVIATE_API_KEY=your-weaviate-api-key

# =======================================================
# RATE LIMITING & PERFORMANCE
# =======================================================

# --- Rate Limiting ---
RATE_LIMIT_PER_USER_PER_MINUTE=60
RATE_LIMIT_GLOBAL_PER_MINUTE=1000

# --- Cache Configuration ---
CACHE_SIMILARITY_THRESHOLD=0.85
CACHE_TTL_HOURS=24

# =======================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =======================================================

# --- Development Settings ---
# Uncomment and modify for development environment
# LOG_LEVEL=DEBUG
# DATABASE_ECHO=true
# SHOW_DETAILED_ERRORS=true

# --- Production Settings ---
# Uncomment and modify for production environment
# NODE_ENV=production
# LOG_LEVEL=WARNING
# SHOW_DETAILED_ERRORS=false
# DATABASE_ECHO=false
# SECRET_KEY=generate-a-secure-random-secret-key-for-production